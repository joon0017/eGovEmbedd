<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Petition">

	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias alias="petVO" type="egovframework.example.petition.service.PetVO" />
	
	<resultMap id="petition" class="egovframework.example.petition.service.PetVO">
		<result property="article_id" column="article_id"/>
		<result property="start" column="start"/>
		<result property="end" column="end"/>
		<result property="answered" column="answered"/>
		<result property="votes" column="votes"/>
		<result property="category" column="category"/>
		<result property="title" column="title"/>
		<result property="content" column="content"/>
	</resultMap>

	<insert id="petDAO.insertPet" parameterClass="petVO">
		<![CDATA[
			INSERT INTO petition_sampled 
				( article_id
				  , start
				  , end
				  , answered
				  , votes
				  , category
				  , title
				  , content )
			VALUES ( #article_id#
				  , #start#
				  , #end#
				  , #answered#
				  , #votes#
				  , #category#
				  , #title#
				  , #content# )
		]]>
	</insert>
	
	<update id="petDAO.updatePet" parameterClass="petVO">
		<![CDATA[
			UPDATE petition_sampled
			SET ID=#article_id#
				  , start = #start#
				  , end = #end#
				  , answered = #answered#
				  , votes = #votes#
				  , category = #category#
				  , title = #title#
				  , content = #content# 
			WHERE article_id=#article_id#
		]]>
	</update>
	
	<delete id="petDAO.deletePet" paremeterClass="petVO">
		<![CDATA[
			DELETE FROM petition_sampled 
			WHERE article_id=#article_id#
		]]>
	</delete>
    
    <select id="petDAO.selectPet" paremeterClass="petVO" resultMap="petition">
        <![CDATA[
            SELECT
                article_id
				  , start
				  , end
				  , answered
				  , votes
				  , category
				  , title
				  , content
            FROM petition_sampled 
            WHERE article_id=#article_id#
        ]]>
    </select>
	
	<select id="petDAO.selectPetList" paremeterClass="petVO" resultMap="petition">
		<![CDATA[
			SELECT 
			    article_id
				  , start
				  , end
				  , answered
				  , votes
				  , category
				  , title
				  , content
			FROM petition_sampled
			where 1=1
					]]>
	</select>
	

</sqlMap>
